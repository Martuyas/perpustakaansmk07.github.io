<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beranda Perpustakaan</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"> 
    <link rel="stylesheet" href="/gambar">
</head>
<body>

    <div class="side-nav">
        <a href="index.html" class="nav-item active">
            <span class="material-icons">home</span>
            Beranda
        </a>
        
        <a href="peminjaman.html" class="nav-item">
            <span class="material-icons">bookmark</span>
            Peminjaman
        </a>
        
        <a href="profile.html" class="nav-item">
            <span class="material-icons">person</span>
            Profil
        </a>
    </div>

    <div class="header">
        <div class="header-title">Perpustakaan SMKN 07 Kota Bengkulu</div>
        <div class="header-icons">
            <span class="material-icons">search</span>
            <span class="material-icons">settings</span>
        </div>
    </div>

    <div class="container">

        <div class="book-section">
            <div class="book-section-header">
                <div class="section-title">Buku pelajaran kelas X</div>
            </div>
            <div class="book-list" id="buku kelas"> 
                <div class="book-card">
                    <img src="x/2.jpeg" alt="Dasar-Dasar Perhotelan">
                    <div class="book-info">
                        <div class="book-title">Dasar-Dasar Perhotelan</div>
                        <div class="book-author">Aprilina Dhamayanti</div>
                        <button class="borrow-button" data-book-title="Dasar-Dasar Perhotelan">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="x/1.jpg" alt="Cerdas Cergas">
                    <div class="book-info">
                        <div class="book-title">Cerdas Cergas</div>
                        <div class="book-author">Fadillah Tri Aulia        </div>
                        <button class="borrow-button" data-book-title="Cerdas Cergas">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="3.png" alt="Pendidikan Agama Islam dan Budi Pekerti">
                    <div class="book-info">
                        <div class="book-title">Pendidikan Agama Islam dan Budi Pekerti</div>
                        <div class="book-author">Ahmad Taufiq</div>
                        <button class="borrow-button" data-book-title="Pendidikan Agama Islam dan Budi Pekerti">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="x/4.png" alt="Pendidikan Agama Kristen dan Budi Pekerti">
                    <div class="book-info">
                        <div class="book-title">Pendidikan Agama Kristen dan Budi Pekerti</div>
                        <div class="book-author">Kementrian pendidikan </div>
                        <button class="borrow-button" data-book-title="Pendidikan Kristen Islam dan Budi Pekerti">Pinjam</button>
                    </div>
            </div>
            <div class="book-card">
                    <img src="x/5.jpg" alt="Ilmu Pengetahuan Alam dan Sosial">
                    <div class="book-info">
                        <div class="book-title">Ilmu Pengetahuan Alam dan Sosial</div>
                        <div class="book-author">Berti Sagendra, S.Pd., M.Pd</div>
                        <button class="borrow-button" data-book-title="Ilmu Pengetahuan Alam dan Sosial">Pinjam</button>
                    </div>
                </div>
        </div>
        <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

        <div class="book-section">
            <div class="book-section-header">
                <div class="section-title">Buku Pelajaran Kelas XI</div>

            </div>
            <div class="book-list" id="book-belajar">
                <div class="book-card">
                    <img src="xi/xi1.png" alt="Pendidikan Pancasila">
                    <div class="book-info">
                        <div class="book-title">Pendidikan Pancasila</div>
                        <div class="book-author">Yuyus Kardiman</div>
                        <button class="borrow-button" data-book-title="Pendidikan Pancasila">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi2.jpeg" alt="Produk Cake dan Kue Indonesia">
                    <div class="book-info">
                        <div class="book-title">Produk Cake dan Kue Indonesia</div>
                        <div class="book-author">Yudhistira</div>
                        <button class="borrow-button" data-book-title="Produk Cake dan Kue Indonesia">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi3.jpg" alt="Matematika">
                    <div class="book-info">
                        <div class="book-title">Matematika</div>
                        <div class="book-author">Andri Kristianto Sitanggang</div>
                        <button class="borrow-button" data-book-title="Matematika">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi4.jpg" alt="Pendidikan Agama Islam dan Budi Pekerti">
                    <div class="book-info">
                        <div class="book-title">Pendidikan Agama Islam dan Budi Pekerti</div>
                        <div class="book-author"H A Sholeh Dimyathi>Pak AP</div>
                        <button class="borrow-button" data-book-title="Pendidikan Agama Islam dan Budi Pekerti">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi5.jpg" alt="PJOK">
                    <div class="book-info">
                        <div class="book-title">PJOK</div>
                        <div class="book-author">M Azhar Mustabshirin</div>
                        <button class="borrow-button" data-book-title="PJOK">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi6.jpg" alt="Front Office 2">
                    <div class="book-info">
                        <div class="book-title">Front Office 2</div>
                        <div class="book-author">Indhira Mega Nanda</div>
                        <button class="borrow-button" data-book-title="Front Office 2">Pinjam</button>
                    </div>
                </div>
                <div class="book-card">
                    <img src="xi/xi7.jpg" alt="Bahasa Indonesia">
                    <div class="book-info">
                        <div class="book-title">Bahasa Indonesia</div>
                        <div class="book-author">Pipit Dwi Komariah</div>
                        <button class="borrow-button" data-book-title="Bahasa Indonesia">Pinjam</button>
                    </div>
                </div>
            </div>
        </div>
  <div class="book-section">
            <div class="book-section-header">
                <div class="section-title">Buku Pelajaran Kelas XII</div>

            </div>
    </div>
</div>
            <div class="book-list" id="book-belajar">
                <div class="book-card">
                    <img src="xii/xii1.jpg" alt="Front Office">
                    <div class="book-info">
                        <div class="book-title">Front Office</div>
                        <div class="book-author">Nyoman Aris Suparni</div>
                        <button class="borrow-button" data-book-title="Front Office">Pinjam</button>
                    </div>
                     <div class="book-card">
                    <img src="xii/xii2.png" alt="Bahasa Indonesia">
                    <div class="book-info">
                        <div class="book-title">Bahasa Indonesia</div>
                        <div class="book-author">Pipit Dwi Komariah</div>
                        <button class="borrow-button" data-book-title="Bahasa Indonesia">Pinjam</button>
                    </div>
                     <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">
    <script>
        // 1. Fungsionalitas Gulir
        document.querySelectorAll('.scroll-button').forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.getAttribute('data-target');
                const targetElement = document.getElementById(targetId);
                
                if (targetElement) {
                    // Gulir sejauh lebar card (140px) + gap (15px)
                    const scrollDistance = 140 + 15;
                    targetElement.scrollBy({
                        left: scrollDistance,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // 2. Fungsionalitas Pinjam (DIUBAH UNTUK MENYIMPAN KE LOCAL STORAGE)
        document.querySelectorAll('.borrow-button').forEach(button => {
            button.addEventListener('click', function() {
                // Mengambil judul buku dari atribut data-book-title
                const bookTitle = this.getAttribute('data-book-title');
                
                // Menampilkan konfirmasi kepada pengguna
                const isConfirmed = confirm(`Apakah Anda yakin ingin meminjam buku: ${bookTitle}?`);
                
                if (isConfirmed) {
                    // --- LOGIKA PENYIMPANAN DATA BARU ---
                    
                    // 1. Ambil data pinjaman yang sudah ada dari Local Storage
                    // Jika belum ada, gunakan array kosong []
                    let borrowedBooks = JSON.parse(localStorage.getItem('peminjamanData')) || [];

                    // 2. Buat objek buku baru
                    const newBook = {
                        title: bookTitle,
                        borrowDate: new Date().toLocaleDateString('id-ID'), // Tanggal hari ini dalam format lokal (misal: 17/11/2025)
                    };

                    // 3. Tambahkan buku baru ke array
                    borrowedBooks.push(newBook);

                    // 4. Simpan kembali array yang diperbarui ke Local Storage
                    localStorage.setItem('peminjamanData', JSON.stringify(borrowedBooks));
                    
                    // --- END LOGIKA PENYIMPANAN DATA ---
                    
                    alert(`Buku "${bookTitle}" berhasil ditambahkan ke daftar pinjaman! Cek tab Peminjaman Anda.`);
                    
                } else {
                    alert(`Peminjaman buku "${bookTitle}" dibatalkan.`);
                }
            });
        });
    </script>

</body>
</html>
